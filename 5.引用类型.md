## 引用类型

引用类型(Reference Type)：包括数组 `array`，结构体 `struct`和映射 `mapping`，这类变量占空间大，赋值时候直接传递地址（类似指针）。我们必须在使用时声明数据存储的位置。

## 数据位置

solidity数据存储位置有三类：`storage`，`memory`和 `calldata`。不同位置的 `gas`成本不同。`storage`类型的数据存在链上，类似计算机的硬盘，消耗 `gas`多；`memory`和 `calldata`类型的临时存在内存里，消耗 `gas`少。

1. `storage`：合约里的状态变量默认都是`storage`，储存在链上。
2. `memory`：合约里的参数和临时变量一般都用`memory`，存储在内存中，不上链。
3. `calldata`：和`memory`类似，存储在内存中，不上链。与memory的不同点在于`calldata`变量不能修改（immutable）一般用于函数的参数。例子：

```
function fCalldata(uint[] calldata _x) public pure returns(uint[] calldata){
	//参数为calldata数组，不可修改
	//_x[0] =0 //这样会报错
	return(_x);
}
```

## 数据位置和赋值规则

在不同的存储类型相互赋值的时候，有时会产生独立的副本（修改新变量不会影响原变量），又是会产生引用（修改新变量会影响原变量）。规则如下：

1. `storage`（合约的状态变量）赋值给本地 `storage`（函数里的）时候
